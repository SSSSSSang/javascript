<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Key Event 5번</title>
    <style>

    </style>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            let email = document.querySelector("#email");
            let msg = document.querySelector("#msg");

            // 이메일 형식의 유효성 검사 함수
            // 1. '@'문자를 포함하고 있는지의 여부 -> 아이디가 3글자 이상인지를 판별
            // 2. '@'문자 다음에는 '.'을 포함하고 있는지의 여부 -> 회사이름도 3글자 이상인지를 판별
            let isEmail = (v) => { 
                return (v.indexOf("@") > 2) && (v.split("@")[1].indexOf(".") > 2);
            }

            email.addEventListener("keyup", (event) => {
                let eValue = event.currentTarget.value;

                if(isEmail(eValue)) { // 이메일 형식일 때
                    msg.textContent = `이메일 형식입니다. : ${eValue}`;
                    msg.style.color = "blue";
                } else { // 이메일 형식이 아닐 때
                    msg.textContent = `이메일 형식이 아닙니다. : ${eValue}`;
                    msg.style.color = "red";
                }
            })
        })
    </script>
</head>
<body>
    <h1>키 이벤트 5번 - keyup</h1>
    <h3>이메일 형식의 유효성 검사하는 프로그램</h3>
    이메일 입력: <input type="text" id="email"><br>
    <p id="msg"></p>
</body>
</html>